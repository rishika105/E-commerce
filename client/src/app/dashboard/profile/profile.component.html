<p class="text-2xl font-medium text-gray-800 mb-6">Profile Information</p>



  <form [formGroup]="profileForm" (ngSubmit)="onSubmit()">
    <div class="gap-6">

      <div>
        <label for="name" class="block text-gray-600 mb-2">Name</label>
        <input id="name" type="text" formControlName="name" class="w-[40%]  p-3 border rounded bg-gray-100 text-gray-500" [readonly]="!isEditing" *ngIf="!isEditing" />
        <input id="name" type="text" formControlName="name" class="w-[40%]  p-3 border rounded bg-gray-100" *ngIf="isEditing" />
      </div>

      <div>
        <label for="gender" class="block text-gray-700 mb-2 mt-7">Gender</label>
        <div class="flex space-x-4">
          <label class="flex items-center">
            <input
              id="male"
              type="radio"
              formControlName="gender"
              value="Male"
              [disabled]="!isEditing"
              class="text-blue-500 checked:bg-gray-500 focus:ring-blue-500"
            />
            <span class="ml-2 text-gray-500">Male</span>
          </label>

          <label class="flex items-center">
            <input
              id="female"
              type="radio"
              formControlName="gender"
              value="Female"
              [disabled]="!isEditing"
              class="text-blue-500 checked:bg-gray-500 focus:ring-blue-500"
            />
            <span class="ml-2 text-gray-500">Female</span>
          </label>

          <label class="flex items-center">
            <input
              id="other"
              type="radio"
              formControlName="gender"
              value="Other"
              [disabled]="!isEditing"
              class="text-blue-500 checked:bg-gray-500 focus:ring-blue-500"
            />
            <span class="ml-2 text-gray-500">Other</span>
          </label>
        </div>
      </div>

      <div class="col-span-2">
        <label for="email" class="block text-gray-700 mb-2 mt-7">Email</label>
        <input id="email" type="email" formControlName="email" class="w-[40%] p-3 border rounded bg-gray-100 text-gray-500" [readonly]="!isEditing" *ngIf="!isEditing"/>
        <input id="email" type="email" formControlName="email" class="w-[40%] p-3 border rounded bg-gray-100" *ngIf="isEditing" />
      </div>

      <div>
        <label for="phone" class="block text-gray-700 mb-2 mt-7">Mobile Number</label>
        <input id="phone" type="text" formControlName="phone" class="w-[40%]  p-3 border rounded bg-gray-100 text-gray-500" [readonly]="!isEditing" *ngIf="!isEditing"/>
        <input id="phone" type="text" formControlName="phone" class="w-[40%]  p-3 border rounded bg-gray-100" *ngIf="isEditing"/>
      </div>



    </div>

    <div class="mt-8 flex justify-between">
      <button type="button" class="text-gray-500 font-medium" (click)="toggleEdit()">{{ isEditing ? 'Cancel' : 'Edit' }}</button>
      <button type="submit" class="bg-red-500 text-white px-5 py-3 rounded" [disabled]="!isEditing">Save Changes</button>
    </div>
  </form>


  <div class="w-full max-w-4xl mt-6">
    <p class="text-xl font-medium text-gray-800 mb-4">FAQs</p>

    <div class="mb-4 text-sm pt-4">
      <p class="text-sm font-medium text-gray-700 mb-2">
        What happens when I update my email address (or mobile number)?
      </p>
      <p class="text-gray-600">
        Your login email id (or mobile number) changes, likewise. You'll receive all your account-related communication on your updated email address (or mobile number).
      </p>
    </div>

    <div class="mb-4 text-sm pt-4">
      <p class=" font-medium text-gray-700 mb-2">
        When will my ShopNest account be updated with the new email address (or mobile number)?
      </p>
      <p class="text-gray-600">
        It happens as soon as you confirm the verification code sent to your email (or mobile) and save the changes.
      </p>
    </div>

    <div class="mb-4 text-sm pt-4">
      <p class=" font-medium text-gray-700 mb-2">
        What happens to my existing ShopNest account when I update my email address (or mobile number)?
      </p>
      <p class="text-gray-600">
        Updating your email address (or mobile number) doesn't invalidate your account. Your account remains fully functional. You'll continue seeing your Order history, saved information, and personal details.
      </p>
    </div>

    <div class="text-sm mb-3 pt-4">
      <p class=" font-medium text-gray-700 mb-2">
        Does my Seller account get affected when I update my email address?
    </p>
      <p class="text-gray-600">
        ShopNest has a 'single sign-on' policy. Any changes will reflect in your Seller account also.
      </p>
    </div>
  </div>


<button (click)="openModal()" class="bg-red-500 text-white px-4 py-2 rounded">
  Delete Account
</button>


<div *ngIf="isModalOpen" class="fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50">
  <div class="bg-white w-[50rem] p-6 rounded-lg shadow-lg relative overflow-y-auto max-h-full">
    <h2 class="text-lg font-bold text-black-800 mb-4">Delete Account</h2>


    <div class="text-black-800 mb-4 space-y-2">
      <p class="font-semibold text-lg">We are sorry to see you go!</p>
      <p>Please note that once you choose to delete your account with our platform, your account will no longer be available to you and you will not be able to activate, restore, or use the account again.</p>
      <p>If you are not sure about deleting your account, you may instead deactivate your account.</p>
      <p>When you deactivate your account, you are logged out, your public profile is no longer visible, and your wishlist items are no longer accessible. You will also be unsubscribed from receiving promotional emails.</p>
      <p>If you wish to proceed with an account deletion request, please ensure that you have read and understood the following:</p>
      <ul class="list-disc list-inside space-y-1 text-sm text-black-600">
        <li>There are no pending orders, cancellations, returns, refunds or other requests. If there are pending transactions, please raise your account deletion request once they are completed.</li>
        <li>If you hold any subscription or service associated with your account, it will be canceled.</li>
      </ul>
    </div>


    <div class="bg-yellow-100 text-yellow-800 p-4 rounded mb-4">
      <p>Deleting account is a permanent action</p>
      <p>Please be advised that the deletion of your account is a permanent action. Once your account is deleted, you will lose all data, and it cannot be restored under any circumstances.</p>
    </div>


    <div class="space-y-2">
      <label class="flex items-start space-x-2">
        <input type="checkbox" [(ngModel)]="termsChecked" class="mt-1" />
        <span>I have read and agreed to the Terms and Conditions.</span>
      </label>
      <label class="flex items-start space-x-2">
        <input type="checkbox" [(ngModel)]="balanceChecked" class="mt-1" />
        <span>I acknowledge that I do not have any Gift Card or SuperCoin balance in my account, or I am willing to forfeit any such balance available in my account.</span>
      </label>
      <label class="flex items-start space-x-2">
        <input type="checkbox" [(ngModel)]="serviceChecked" class="mt-1" />
        <span>I acknowledge that I will not be able to return/replace or seek any service regarding any past order or transactions.</span>
      </label>
    </div>


    <div class="mt-4">
      <label class="block text-black-700 mb-1">Please tell us why you're leaving us</label>
      <textarea [(ngModel)]="feedback" class="w-full p-2 border border-black-500 rounded" placeholder="Your feedback will help us improve." rows="3"></textarea>
    </div>


    <div class="mt-4 flex justify-end space-x-2">
      <button (click)="closeModal()" class="px-4 py-2 bg-gray-300 rounded text-gray-800">Cancel</button>
      <button (click)="confirmDelete()" [disabled]="!canDelete()" class="px-4 py-2 bg-red-600 text-white rounded disabled:bg-red-300">
        Delete account
      </button>
    </div>
  </div>
</div>


<!-- Loading -->
<div *ngIf="loading" class="mt-[150px] mb-[150px] mx-auto loader">
  <p>Loading...</p>
</div>
